<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Colors</title>
	<link rel="stylesheet" href="./src/style/screen.template.css">
	<link rel="stylesheet" href="../src/fontawesome/css/all.css">
	<script src="https://code.jquery.com/jquery-3.7.1.min.js"
		integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
	<script src="./script.js"></script>
	<meta property="og:title" content="Softadmin Demo - New Header Feature">
	<meta property="og:description"
		content="Explore the innovative new header feature in Softadmin, designed to improve user experience and enhance navigation. See it in action now!">
	<meta property="og:url" content="https://jonathankevin.netlify.app/header">
	<meta property="og:image" content="https://jonathankevin.netlify.app/src/img/og-img.jpg">
	<meta property="og:type" content="website">
	<meta property="og:site_name" content="Softadmin Demo">
	<meta property="og:locale" content="en_US">
	<meta property="og:logo" content="https://jonathankevin.netlify.app/src/img/logo.svg">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.4.2/chroma.min.js"></script>

</head>

<body class="saDesktop saPc saLargeScreen saCompact">

	<div class="scrollcontent-inner">
		<table class="saColorGroup" id="rgb">
			<caption>
				Hover to see contrast
			</caption>
			<thead>
				<tr>
					<th>Color</th>
					<th>0</th>
					<th>50</th>
					<th>100</th>
					<th>150</th>
					<th>200</th>
					<th>300</th>
					<th>400</th>
					<th>500</th>
					<th>600</th>
					<th>700</th>
					<th>800</th>
					<th>900</th>
					<th>950</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<th>Gray</th>
					<td data-color="White" class="saBackgroundWhite"></td>
					<td data-color="Gray50" class="saBackgroundGray50"></td>
					<td data-color="Gray100" class="saBackgroundGray100"></td>
					<td data-color="Gray150" class="saBackgroundGray150"></td>
					<td data-color="Gray200" class="saBackgroundGray200"></td>
					<td data-color="Gray300" class="saBackgroundGray300"></td>
					<td data-color="Gray400" class="saBackgroundGray400"></td>
					<td data-color="Gray500" class="saBackgroundGray500"></td>
					<td data-color="Gray600" class="saBackgroundGray600"></td>
					<td data-color="Gray700" class="saBackgroundGray700"></td>
					<td data-color="Gray800" class="saBackgroundGray800"></td>
					<td data-color="Gray900" class="saBackgroundGray900"></td>
					<td data-color="Gray950" class="saBackgroundGray950"></td>
				</tr>
				<tr>
					<th>Blue</th>
					<td data-color="White" class="saBackgroundWhite"></td>
					<td data-color="Blue50" class="saBackgroundBlue50"></td>
					<td data-color="Blue100" class="saBackgroundBlue100"></td>
					<td class="empty"></td>
					<td data-color="Blue200" class="saBackgroundBlue200"></td>
					<td data-color="Blue300" class="saBackgroundBlue300"></td>
					<td data-color="Blue400" class="saBackgroundBlue400"></td>
					<td data-color="Blue500" class="saBackgroundBlue500"></td>
					<td data-color="Blue600" class="saBackgroundBlue600"></td>
					<td data-color="Blue700" class="saBackgroundBlue700"></td>
					<td data-color="Blue800" class="saBackgroundBlue800"></td>
					<td data-color="Blue900" class="saBackgroundBlue900"></td>
					<td data-color="Blue950" class="saBackgroundBlue950"></td>
				</tr>
				<tr>
					<th>Red</th>
					<td data-color="White" class="saBackgroundWhite"></td>
					<td data-color="Red50" class="saBackgroundRed50"></td>
					<td data-color="Red100" class="saBackgroundRed100"></td>
					<td class="empty"></td>
					<td data-color="Red200" class="saBackgroundRed200"></td>
					<td data-color="Red300" class="saBackgroundRed300"></td>
					<td data-color="Red400" class="saBackgroundRed400"></td>
					<td data-color="Red500" class="saBackgroundRed500"></td>
					<td data-color="Red600" class="saBackgroundRed600"></td>
					<td data-color="Red700" class="saBackgroundRed700"></td>
					<td data-color="Red800" class="saBackgroundRed800"></td>
					<td data-color="Red900" class="saBackgroundRed900"></td>
					<td data-color="Red950" class="saBackgroundRed950"></td>
				</tr>
				<tr>
					<th>Orange</th>
					<td data-color="White" class="saBackgroundWhite"></td>
					<td data-color="Orange50" class="saBackgroundOrange50"></td>
					<td data-color="Orange100" class="saBackgroundOrange100"></td>
					<td class="empty"></td>
					<td data-color="Orange200" class="saBackgroundOrange200"></td>
					<td data-color="Orange300" class="saBackgroundOrange300"></td>
					<td data-color="Orange400" class="saBackgroundOrange400"></td>
					<td data-color="Orange500" class="saBackgroundOrange500"></td>
					<td data-color="Orange600" class="saBackgroundOrange600"></td>
					<td data-color="Orange700" class="saBackgroundOrange700"></td>
					<td data-color="Orange800" class="saBackgroundOrange800"></td>
					<td data-color="Orange900" class="saBackgroundOrange900"></td>
					<td data-color="Orange950" class="saBackgroundOrange950"></td>
				</tr>
				<tr>
					<th>Yellow</th>
					<td data-color="White" class="saBackgroundWhite"></td>
					<td data-color="Yellow50" class="saBackgroundYellow50"></td>
					<td data-color="Yellow100" class="saBackgroundYellow100"></td>
					<td class="empty"></td>
					<td data-color="Yellow200" class="saBackgroundYellow200"></td>
					<td data-color="Yellow300" class="saBackgroundYellow300"></td>
					<td data-color="Yellow400" class="saBackgroundYellow400"></td>
					<td data-color="Yellow500" class="saBackgroundYellow500"></td>
					<td data-color="Yellow600" class="saBackgroundYellow600"></td>
					<td data-color="Yellow700" class="saBackgroundYellow700"></td>
					<td data-color="Yellow800" class="saBackgroundYellow800"></td>
					<td data-color="Yellow900" class="saBackgroundYellow900"></td>
					<td data-color="Yellow950" class="saBackgroundYellow950"></td>
				</tr>
				<tr>
					<th>Green</th>
					<td data-color="White" class="saBackgroundWhite"></td>
					<td data-color="Green50" class="saBackgroundGreen50"></td>
					<td data-color="Green100" class="saBackgroundGreen100"></td>
					<td class="empty"></td>
					<td data-color="Green200" class="saBackgroundGreen200"></td>
					<td data-color="Green300" class="saBackgroundGreen300"></td>
					<td data-color="Green400" class="saBackgroundGreen400"></td>
					<td data-color="Green500" class="saBackgroundGreen500"></td>
					<td data-color="Green600" class="saBackgroundGreen600"></td>
					<td data-color="Green700" class="saBackgroundGreen700"></td>
					<td data-color="Green800" class="saBackgroundGreen800"></td>
					<td data-color="Green900" class="saBackgroundGreen900"></td>
					<td data-color="Green950" class="saBackgroundGreen950"></td>
				</tr>
				<tr>
					<th>Sky</th>
					<td data-color="White" class="saBackgroundWhite"></td>
					<td data-color="Sky50" class="saBackgroundSky50"></td>
					<td data-color="Sky100" class="saBackgroundSky100"></td>
					<td class="empty"></td>
					<td data-color="Sky200" class="saBackgroundSky200"></td>
					<td data-color="Sky300" class="saBackgroundSky300"></td>
					<td data-color="Sky400" class="saBackgroundSky400"></td>
					<td data-color="Sky500" class="saBackgroundSky500"></td>
					<td data-color="Sky600" class="saBackgroundSky600"></td>
					<td data-color="Sky700" class="saBackgroundSky700"></td>
					<td data-color="Sky800" class="saBackgroundSky800"></td>
					<td data-color="Sky900" class="saBackgroundSky900"></td>
					<td data-color="Sky950" class="saBackgroundSky950"></td>
				</tr>
				<tr>
					<th>Purple</th>
					<td data-color="White" class="saBackgroundWhite"></td>
					<td data-color="Purple50" class="saBackgroundPurple50"></td>
					<td data-color="Purple100" class="saBackgroundPurple100"></td>
					<td class="empty"></td>
					<td data-color="Purple200" class="saBackgroundPurple200"></td>
					<td data-color="Purple300" class="saBackgroundPurple300"></td>
					<td data-color="Purple400" class="saBackgroundPurple400"></td>
					<td data-color="Purple500" class="saBackgroundPurple500"></td>
					<td data-color="Purple600" class="saBackgroundPurple600"></td>
					<td data-color="Purple700" class="saBackgroundPurple700"></td>
					<td data-color="Purple800" class="saBackgroundPurple800"></td>
					<td data-color="Purple900" class="saBackgroundPurple900"></td>
					<td data-color="Purple950" class="saBackgroundPurple950"></td>
				</tr>
				<tr>
					<th>Pink</th>
					<td data-color="White" class="saBackgroundWhite"></td>
					<td data-color="Pink50" class="saBackgroundPink50"></td>
					<td data-color="Pink100" class="saBackgroundPink100"></td>
					<td class="empty"></td>
					<td data-color="Pink200" class="saBackgroundPink200"></td>
					<td data-color="Pink300" class="saBackgroundPink300"></td>
					<td data-color="Pink400" class="saBackgroundPink400"></td>
					<td data-color="Pink500" class="saBackgroundPink500"></td>
					<td data-color="Pink600" class="saBackgroundPink600"></td>
					<td data-color="Pink700" class="saBackgroundPink700"></td>
					<td data-color="Pink800" class="saBackgroundPink800"></td>
					<td data-color="Pink900" class="saBackgroundPink900"></td>
					<td data-color="Pink950" class="saBackgroundPink950"></td>
				</tr>
			</tbody>
		</table>
		<div id="mixContainer"></div>
		<div style="display: flex; flex-direction: column; gap: 40px;">
			<div id="color-groups"></div>
			<div id="pillContainer"></div>
			<div id="colorContainer"></div>
		</div>
	</div>

	<style>
		#theToggler {
			top: unset;
			bottom: 8px;
		}
	</style>
	<script>

		$(document).ready(function () {

			var $ContrastThreshold = 4.5; // Set the contrast ratio threshold

			function getLuminance(color) {
				let rgb = color.match(/\d+/g).map(Number).map(c => {
					c /= 255;
					return c <= 0.03928 ? c / 12.92 : ((c + 0.055) / 1.055) ** 2.4;
				});
				return 0.2126 * rgb[0] + 0.7152 * rgb[1] + 0.0722 * rgb[2];
			}

			function getContrastRatio(color1, color2) {
				let lum1 = getLuminance(color1);
				let lum2 = getLuminance(color2);
				return (Math.max(lum1, lum2) + 0.05) / (Math.min(lum1, lum2) + 0.05);
			}

			const td = $('tr td:not(.empty)');

			td.on('mouseenter', function () {
				let hoveredColor = $(this).css('background-color');

				td.each(function () {
					let otherColor = $(this).css('background-color');
					let contrast = getContrastRatio(hoveredColor, otherColor);

					$(this).toggleClass('disabled', contrast < $ContrastThreshold); //3.0 for icons

				});

				$('#mixContainer .saPillX').each(function () {
					let pillBgColor = $(this).css('background-color');
					let pillTxtColor = $(this).css('color');
					if (hoveredColor !== pillBgColor && hoveredColor !== pillTxtColor) {
						$(this).hide();
					} else {
						$(this).show();
					}
				});
			});

			td.on('mouseleave', function () {
				$('.saColorGroup td').removeClass('disabled');
				$('#mixContainer .saPillX').show();
			});

			const colors = [
				{
					colorName: "Gray",
					colors: [
					{ shade: "0", value: "#ffffff" },
					{ shade: "50", value: "#f8f9fb" },
					{ shade: "100", value: "#eef1f5" },
					{ shade: "150", value: "#dde3ec" },
					{ shade: "200", value: "#ccd5e2" },
					{ shade: "300", value: "#adbdd1" },
					{ shade: "400", value: "#8fa5c0" },
					{ shade: "500", value: "#7088a4" },
					{ shade: "600", value: "#60748b" },
					{ shade: "700", value: "#506072" },
					{ shade: "800", value: "#404c5b" },
					{ shade: "900", value: "#313a44" },
					{ shade: "950", value: "#1c2025" }
					]
				},
				{
					colorName: "Blue",
					colors: [
					{ shade: "50", value: "#f7faff" },
					{ shade: "100", value: "#e5efff" },
					{ shade: "200", value: "#bbd6ff" },
					{ shade: "300", value: "#93bdff" },
					{ shade: "400", value: "#6ea3ff" },
					{ shade: "500", value: "#4582f4" },
					{ shade: "600", value: "#2d6ce1" },
					{ shade: "700", value: "#1c57c6" },
					{ shade: "800", value: "#0f44a6" },
					{ shade: "900", value: "#063384" },
					{ shade: "950", value: "#011b50" }
					]
				},
				{
					colorName: "Red",
					colors: [
					{ shade: "50", value: "#fff7f7" },
					{ shade: "100", value: "#ffe8e7" },
					{ shade: "200", value: "#ffc6c5" },
					{ shade: "300", value: "#fba4a3" },
					{ shade: "400", value: "#f58082" },
					{ shade: "500", value: "#ea4f5b" },
					{ shade: "600", value: "#e0173e" },
					{ shade: "700", value: "#bf0024" },
					{ shade: "800", value: "#9b0002" },
					{ shade: "900", value: "#790000" },
					{ shade: "950", value: "#470000" }
					]
				},
				{
					colorName: "Orange",
					colors: [
					{ shade: "50", value: "#fff8f4" },
					{ shade: "100", value: "#ffeada" },
					{ shade: "200", value: "#ffc9a4" },
					{ shade: "300", value: "#ffa56f" },
					{ shade: "400", value: "#ee894d" },
					{ shade: "500", value: "#ca6d34" },
					{ shade: "600", value: "#ae5c28" },
					{ shade: "700", value: "#924a1d" },
					{ shade: "800", value: "#763b14" },
					{ shade: "900", value: "#5b2b0c" },
					{ shade: "950", value: "#351604" }
					]
				},
				{
					colorName: "Yellow",
					colors: [
					{ shade: "50", value: "#fff8e7" },
					{ shade: "100", value: "#ffecb7" },
					{ shade: "200", value: "#ffcd5b" },
					{ shade: "300", value: "#f6ad00" },
					{ shade: "400", value: "#da9600" },
					{ shade: "500", value: "#b67a00" },
					{ shade: "600", value: "#9c6700" },
					{ shade: "700", value: "#825400" },
					{ shade: "800", value: "#694300" },
					{ shade: "900", value: "#513200" },
					{ shade: "950", value: "#2e1b00" }
					]
				},
				{
					colorName: "Green",
					colors: [
					{ shade: "50", value: "#f2fcf2" },
					{ shade: "100", value: "#d6f7d9" },
					{ shade: "200", value: "#91e89b" },
					{ shade: "300", value: "#58d36e" },
					{ shade: "400", value: "#29bb4e" },
					{ shade: "500", value: "#009b36" },
					{ shade: "600", value: "#008429" },
					{ shade: "700", value: "#006d1e" },
					{ shade: "800", value: "#005815" },
					{ shade: "900", value: "#00430d" },
					{ shade: "950", value: "#002504" }
					]
				},
				{
					colorName: "Sky",
					colors: [
					{ shade: "50", value: "#f0fcff" },
					{ shade: "100", value: "#c4f7ff" },
					{ shade: "200", value: "#82e1fb" },
					{ shade: "300", value: "#5ec8e4" },
					{ shade: "400", value: "#49b0ca" },
					{ shade: "500", value: "#3591a8" },
					{ shade: "600", value: "#2a7b90" },
					{ shade: "700", value: "#206678" },
					{ shade: "800", value: "#165160" },
					{ shade: "900", value: "#0f3e4a" },
					{ shade: "950", value: "#05222a" }
					]
				},
				{
					colorName: "Purple",
					colors: [
					{ shade: "50", value: "#f9f7ff" },
					{ shade: "100", value: "#f0ebff" },
					{ shade: "200", value: "#ddccff" },
					{ shade: "300", value: "#caadff" },
					{ shade: "400", value: "#b78eff" },
					{ shade: "500", value: "#9e65ff" },
					{ shade: "600", value: "#8b4af1" },
					{ shade: "700", value: "#7734d5" },
					{ shade: "800", value: "#6123b4" },
					{ shade: "900", value: "#4c1590" },
					{ shade: "950", value: "#2c0658" }
					]
				},
				{
					colorName: "Pink",
					colors: [
					{ shade: "50", value: "#fff7fc" },
					{ shade: "100", value: "#ffe7f7" },
					{ shade: "200", value: "#ffc1ed" },
					{ shade: "300", value: "#ff9ae1" },
					{ shade: "400", value: "#ff6dcd" },
					{ shade: "500", value: "#e641b2" },
					{ shade: "600", value: "#ca2c9b" },
					{ shade: "700", value: "#ac1b82" },
					{ shade: "800", value: "#8d0e6a" },
					{ shade: "900", value: "#6e0552" },
					{ shade: "950", value: "#41012f" }
					]
				}
				];

			$.each(colors, function (index, group) {
				const colorName = group.colorName;
				const $table = $('<table></table>').addClass(colorName);
				const $thead = $('<thead></thead>');
				const $tbody = $('<tbody></tbody>');
				const $caption = $('<caption></caption>').text(colorName);

				const $trHead = $('<tr></tr>');
				$trHead.append($('<th></th>').text(colorName));
				$.each(group.colors, function (i, color) {
					$trHead.append($('<th></th>').text(color.shade));
				});
				$thead.append($trHead);

				$.each(group.colors, function (i, color) {
					const colorShade = color.shade;
					const colorKey = color.key;
					const $tr = $('<tr></tr>');
					$tr.append($('<th></th>').text(colorShade));

					$.each(group.colors, function (j, iconColor) {
						const iconColorShade = iconColor.shade;

						const $td = $('<td></td>');
						const $card = $('<div></div>').addClass(`sa${colorName}${colorShade} sa${colorName} sa${colorShade} saColor`);

						if (colorShade == iconColorShade || iconColorShade == "0" || colorShade == "500" || colorShade - iconColorShade == 100 || (colorShade == 800 && iconColorShade == 900) || colorShade - iconColorShade == -50) {
							$card.removeClass().addClass('saColor saDisabled');
						}

						else if (colorKey) {
							$card.addClass('saKey');
						}

						const $icon = $('<i></i>').addClass(`saIcon far fa-crow sa${colorName}${iconColorShade} sa${colorShade}`);
						const $divBody = $('<div class="saBody"></div>');
						const $divTitle = $(`<div class="saTitle" title="Card background color: ${colorShade}"></div>`).text(colorShade);
						const $divDescription = $(`<div class="saDesc" title="Icon background color: ${iconColorShade}"></div>`).text(`${iconColorShade}`);

						$divBody.append($divTitle).append($divDescription);
						$card.append($icon).append($divBody);
						$td.append($card);
						$tr.append($td);
					});
					$tbody.append($tr);
				});

				$table.append($thead).append($tbody).prepend($caption);
				$('#colorContainer').append($table);
			});

			$.each(colors, function (index, group) {
				const colorName = group.colorName;
				const $table = $('<table></table>').addClass(colorName);
				const $thead = $('<thead></thead>');
				const $tbody = $('<tbody></tbody>');
				const $caption = $('<caption></caption>').text(colorName);

				const $trHead = $('<tr></tr>');
				$trHead.append($('<th></th>').text(colorName));
				$.each(group.colors, function (i, color) {
					$trHead.append($('<th></th>').text(color.shade));
				});
				$thead.append($trHead);

				$.each(group.colors, function (i, color) {
					const colorShade = color.shade;
					const colorKey = color.key;
					const $tr = $('<tr></tr>');
					$tr.append($('<th></th>').text(colorShade));

					$.each(group.colors, function (j, textColor) {
						const textColorShade = textColor.shade;

						const $td = $('<td></td>')
							.addClass(`saPillX sa${colorName} saText${colorName}${textColorShade} saBackground${colorName}${colorShade}`)
							.text(`${textColorShade} ${colorShade}`)
							.attr('data-color', `txt${colorName}${textColorShade} bg${colorName}${colorShade}`);

						if (colorKey) {
							$td.addClass('saKey');
						}

						if (!checkWcagContrast(color.value, textColor.value, $ContrastThreshold)) {
							$td.addClass('saDisabled');
						}
						$tr.append($td);
					});

					$tbody.append($tr);
				});

				$table.append($thead).append($tbody).prepend($caption);
				$('#pillContainer').append($table);
			});

			function generateAllColors() {
				const $ul = $('<ul></ul>');

				$.each(colors, function (index, group) {
					const colorName = group.colorName;

					$.each(group.colors, function (i, color) {
						const bgColorShade = color.shade;
						const colorKey = color.key;

						$.each(colors, function (j, otherGroup) {
							$.each(otherGroup.colors, function (k, textColor) {
								const textColorShade = textColor.shade;
								if (checkWcagContrast(color.value, textColor.value, $ContrastThreshold)) {

									if (bgColorShade !== "0" && bgColorShade !== "50") {
										const $li = $('<li></li>')
											.addClass(`saPillX sa${colorName} saBackground${colorName}${bgColorShade} saText${otherGroup.colorName}${textColorShade}`)
											.attr('data-color', `txt${otherGroup.colorName}${textColorShade} bg${colorName}${bgColorShade}`)
											.text(`${textColorShade} ${bgColorShade}`);

										if (colorKey) {
											$li.addClass('saKey');
										}

										$ul.append($li);
									}
								}
							});
						});
					});
				});

				$('#mixContainer').append($ul);
			}


			generateAllColors();


			// Helper function to check WCAG contrast ratio
			function checkWcagContrast(bgColor, textColor, threshold) {
				const bgLum = calculateLuminance(bgColor);
				const textLum = calculateLuminance(textColor);
				const contrastRatio = (Math.max(bgLum, textLum) + 0.05) / (Math.min(bgLum, textLum) + 0.05);

				return contrastRatio >= threshold;
			}

			// Helper function to calculate luminance from hex color
			function calculateLuminance(hex) {
				hex = hex.replace('#', '');

				const r = parseInt(hex.substring(0, 2), 16) / 255;
				const g = parseInt(hex.substring(2, 4), 16) / 255;
				const b = parseInt(hex.substring(4, 6), 16) / 255;

				const sRGB = [r, g, b].map(value =>
					value <= 0.03928 ? value / 12.92 : Math.pow((value + 0.055) / 1.055, 2.4)
				);

				return 0.2126 * sRGB[0] + 0.7152 * sRGB[1] + 0.0722 * sRGB[2];
			}

			const tooltip = $('<div id="tooltip"></div>').css({
				position: 'absolute',
				display: 'none',
				backgroundColor: 'black',
				color: 'white',
				padding: '0.5rem',
				borderRadius: '0.25rem',
				fontSize: '0.75rem',
				zIndex: 1000
			}).appendTo('body');

			$('ul, table').on('mouseenter', '[data-color]', function (e) {
				const dataColor = $(this).attr('data-color');
				tooltip.text(dataColor).show();
			}).on('mousemove', '[data-color]', function (e) {
				tooltip.css({
					top: e.pageY + 16,
					left: e.pageX + 8
				});
			}).on('mouseleave', '[data-color]', function () {
				tooltip.hide();
			});
		});
	</script>
</body>

</html>