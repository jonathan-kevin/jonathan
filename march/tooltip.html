<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Table of contents</title>
	<link rel="stylesheet" href="./src/style/screen.template.css">
	<link rel="stylesheet" href="./src/fontawesome/css/all.css">
	<script src="https://code.jquery.com/jquery-3.7.1.min.js"
		integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
	<script src="./script.js"></script>
</head>

<body style="display: flex;flex-direction: row; gap: 24px; min-height: 100vh;">

	<a href="#Field"><span>Field information</span>
		<i class="saIcon fas fa-hexagon-xmark saError" data-tooltip="This section has an error."
			aria-label="This section has an error."></i>
	</a>

	<script>
		$(document).ready(function () {
			$(function () {
				const $tooltip = $('<div class="saTooltip" role="tooltip" aria-live="polite"></div>').appendTo('body').hide();

				$('[data-tooltip]')
					.on('mouseenter focus', function () {
						const $element = $(this);
						const tooltipText = $element.attr('data-tooltip');
						$tooltip.text(tooltipText).show();
						$element.attr('aria-describedby', 'tooltip');

						const elementOffset = $element.offset();
						const elementHeight = $element.outerHeight();
						const elementWidth = $element.outerWidth();
						const tooltipWidth = $tooltip.outerWidth();
						const tooltipHeight = $tooltip.outerHeight();

						$tooltip.css({
							top: elementOffset.top - tooltipHeight - 8,
							left: elementOffset.left + (elementWidth / 2) - (tooltipWidth / 2)
						});
					})
					.on('mouseleave blur', function () {
						$tooltip.hide();
						$(this).removeAttr('aria-describedby');
					});

				$(document).on('keydown', function (e) {
					if (e.key === 'Escape') {
						$tooltip.hide();
						$('[data-tooltip]').removeAttr('aria-describedby');
					}
				});
			});
		});
	</script>
</body>

</html>