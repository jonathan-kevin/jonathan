<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>NewEdit with a Table of Contents</title>
	<link rel="stylesheet" href="./src/style/screen.template.css">
	<link rel="stylesheet" href="./src/fontawesome/css/all.css">
	<link rel="icon" type="image/svg" href="./src/img/favicon.svg">
	<script src="https://code.jquery.com/jquery-3.7.1.min.js"
		integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
	<script src="./script.js"></script>
	<!--<script src="https://code.jquery.com/ui/1.14.1/jquery-ui.min.js" integrity="sha256-AlTido85uXPlSyyaZNsjJXeCs07eSv3r43kyCVc8ChI=" crossorigin="anonymous"></script>-->
	<script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
	<script type="text/javascript" src="https://livejs.com/live.js"></script>

</head>

<body class="saRootBody saLargeScreen saPc saCompact">
	<div class="saRootContentWrapper">
		<div class="saSideBar saSideBarJs saExpanded">
			<form id="aspnetForm">
				<nav id="SideBar">
					<div class="saPageHeader saSmallScreenHeader">
						<div class="saHeader">
							<div class="saTopRow"><button class="saNavigator" type="button">
									<div class="saNavBar saActive"><span class="saNavBarStripe"></span>
										<span class="saNavBarStripe"></span>
										<span class="saNavBarStripe"></span>
									</div>
								</button>
								<div class="saHeaderWrapper">
									<div class="saTitle">
										<h1>NewEdit with a Table of Contents</h1>
									</div>
								</div>
								<button class="saNotificationWrapper" type="button">
									<div><i class="far fa-bell saIcon"></i></div>
									<div class="saNotificationBadge saEmpty" aria-hidden="true">
										<div class="saNotificationBadgeCount">0</div>
									</div>
								</button>
							</div>
						</div>
					</div>
					<div class="saSidenav" id="sidenav">
						<div class="saSidenavSection">
							<div class="saCustomerLogo">
								<div>
									<img loading="lazy" src="./src/img/logo.svg" alt="Softadmin® logo"
										style="min-height: 5rem;">
								</div>
							</div>
							<div class="saSidenavContainer">
								<div class="saSidenavItem saMenuDropdownsOuter">
									<div class="saSidenavItemWrapper">
										<label class="saInputTextWrapper saLabeled">
											<span class="saLabeledLabel">User</span>
											<span class="saFirstLetter">J</span>
											<select class="saInputText saDropdown">
												<option value="0" selected="true">Jonathan</option>
												<option value="1">Kevin</option>
											</select>
											<div class="saTrailingIconsWrapper">
												<i class="saIcon far fa-angle-down"></i>
											</div>
										</label>
									</div>
								</div>
								<div class="saToggleWrapper">
									<div class="saHandle">
										<div class="saTrack">
											<a class="saToggleIconText saDynamicTooltipJs saActive" tabindex="0">
												<i class="far fa-bars icon saIcon" aria-hidden="true"></i>
												<span class="saToggleText">Meny</span>
											</a>
											<a class="saToggleIconText saDynamicTooltipJs" tabindex="0">
												<i class="far fa-star icon saIcon" aria-hidden="true"></i>
												<span class="saToggleText">Favoriter</span>
											</a>
										</div>
									</div>
								</div>
							</div>
							<div class="saSidenavLists">
								<ul class="saSidenavItemList">
									<li>
										<a id="shuffle" class="saSidenavItemWrapper" tabindex="0">
											<div class="saSidenavItem">
												<i class="fa-grid-2 far saIcon"></i>
												<span class="saSidenavItemText">Switch Row-Col</span>
											</div>
										</a>
									</li>
									<li>
										<a id="tiny" class="saSidenavItemWrapper" tabindex="0">
											<div class="saSidenavItem">
												<i class="far fa-egg saIcon"></i>
												<span class="saSidenavItemText">Make all list items tiny</span>
											</div>
										</a>
									</li>
									<li>
										<a id="random" class="saSidenavItemWrapper" tabindex="0">
											<div class="saSidenavItem">
												<i class="far fa-feather saIcon"></i>
												<span class="saSidenavItemText">Randomize size</span>
											</div>
										</a>
									</li>
									<li>
										<a class="saSidenavItemWrapper" tabindex="0">
											<div class="saSidenavItem">
												<i class="far fa-ticket-alt saIcon"></i>
												<span class="saSidenavItemText">Aviary tickets</span>
											</div>
										</a>
									</li>
								</ul>
							</div>
						</div>
						<div class="saSidenavSection saSidenavSectionLast">
							<div class="saSidenavContainer">
								<div class="saListItem"><button class="saSidenavItemWrapper" type="button"
										aria-expanded="false">
										<div class="saSidenavItem saAvatarWrapperOuter">
											<div class="saAvatarWrapper saUserInitials" aria-hidden="true">JK</div><span
												class="saSidenavItemText">Jonathan Kevin</span><i
												class="far fa-angle-down saIcon"></i>
										</div>
									</button></div>
								<div class="saSidenavItem saSidenavItemRow">
									<button class="saSidenavItemWrapper" type="button">
										<div class="saSidenavItem">
											<i class="far fa-gear icon saIcon"></i>
											<span class="saSidenavItemText">Admin</span>
										</div>
									</button>
									<button class="saSidenavItemWrapper" type="button">
										<div class="saSidenavItem">
											<i class="far fa-window-restore icon saIcon"></i>
											<span class="saSidenavItemText">Ny flik</span>
										</div>
									</button>
									<button class="saSidenavItemWrapper" type="button">
										<div class="saSidenavItem">
											<i class="far fa-circle-question icon saIcon"></i>
											<span class="saSidenavItemText">Visa hjälpsida - Allmän hjälpsida</span>
										</div>
									</button>
									<button class="saSidenavItemWrapper saNotificationLinkLargeScreen" type="button">
										<div class="saSidenavItem">
											<div><i class="far fa-bell saIcon"></i></div>
											<span class="saSidenavItemText">Notifieringar</span>
										</div>
										<div class="saNotificationBadge saEmpty" aria-hidden="true">
											<div class="saNotificationBadgeCount">0</div>
										</div>
									</button>
								</div>
							</div>
							<div class="saSidenavFooter">
								<a class="saSoftadminLogo" rel="noopener noreferrer" tabindex="-1" href="#">
									<img loading="lazy" class="saLogo" src="./src/img/softadmin-logo-minimized.svg">
									<img loading="lazy" class="saWordmark" src="./src/img/softadmin-logo-expanded.svg">
								</a>
								<button class="saExpander saDynamicTooltipJs" type="button">
									<i class="fa-angles-left far saIcon"></i>
								</button>
							</div>
						</div>
					</div>
				</nav>
			</form>
		</div>
		<div class="saRightFrameRoot" style="overflow: auto;">
			<div class="right standardview">
				<div class="pagecontentframe">
					<form class="interface">
						<header id="pageheader" class="saPageHeaderHolder">
							<div class="saPageHeader saDesktopHeader">
								<div class="saHeader">
									<div class="saRowWrapper">
										<div class="saTopRow">
											<nav class="saBreadcrumbs">
												<div class="saBackButtonWrapper">
													<button class="saBackButton" type="button" disabled>
														<i class="fa-arrow-left far saBack saIcon"></i>
													</button>
												</div>
											</nav>
										</div>
										<div class="saBottomRow">
											<div class="saTitle">
												<h1 class="saHeaderText">NewEdit with a Table of Contents</h1>
												<div class="saMarkFavorite saNoSpinner">
													<button type="button">
														<i
															class="fas fa-star saFavoriteIcon saFavoriteAdded icon saIcon"></i>
													</button>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="saPageHeader saSmallScreenHeader">
								<div class="saHeader">
									<div class="saHeaderInner">
										<div class="saTopRow">
											<div class="saHeaderWrapper">
												<div class="saTitle">
													<h1 class="saHeaderText">NewEdit with a Table of Contents</h1>
												</div>
											</div><button class="saNavigator" type="button">
												<div class="saNavBar"><span class="saNavBarStripe"></span><span
														class="saNavBarStripe"></span><span
														class="saNavBarStripe"></span>
												</div>
											</button><button class="saNotificationWrapper" type="button"
												aria-live="polite">
												<div><i class="far fa-bell saIcon"></i></div>
												<div class="saNotificationBadge saEmpty" aria-hidden="true">
													<div class="saNotificationBadgeCount">0</div>
												</div>
											</button>
										</div>
									</div>
									<nav class="saBottomRow saActionLinkBar" style="display: none;"></nav>
								</div>
							</div>
						</header>
						<div class="maincolinner gradients saInputPage">
							<main id="MI_M" class="menuitem pagecontentframe">
								<div id="MI_ScrollIndicator" class="scrollindicator"></div>
								<div id="MI_ScrollContent" class="scrollcontent saScrollable"
									style="height: calc(100vh - 89px );">
									<div class="scrollcontent-inner">
										<div class="maincolbody">
											<div id="MI_MC_FormsArea">
												<div class="saFormRootWrapper">

													<aside class="saFormAside">
														<div class="saErrorSummaryWrapper">
															<h3 class="saErrorSummaryHeading">
																Error summary
															</h3>
															<p style="padding: 0.25rem 0 0.5rem 0">Resolve the following errors to continue.</p>
															<ul class="saErrorSummary">
																<li>
																	<a class="saErrorMessage" href="#inputText3">
																		Error message.
																	</a>
																</li>
															</ul>
														</div>
														<nav aria-labelledby="toc" class="saToC">
															<h3 id="toc" class="saToCHeading">Table of contents</h3>
															<button aria-expanded="true" type="button"
																aria-controls="toc-list" id="toc-btn"
																class="saToCButton">
																<h2>Table of contents</h2>
																<i class="saIcon far fa-angle-up"></i>
															</button>
															<div class="saToCDot"></div>
															<ul id="toc-list" aria-live="polite">
															</ul>
														</nav>
													</aside>
													<fieldset class="saFormRoot saLabelsAbove">
														<fieldset class="saSectionWrapper">
															<legend class="saSectionHeaderWrapper" id="heading1">
																<div class="saSectionHeader">
																	<h2>Heading XM1</h2>
																</div>
															</legend>
															<div class="saFieldsRow">
																<div class="saFieldsColumn">
																	<div class="saSectionWrapper saLastVisible">
																		<div class="saFieldCollection long">
																			<div class="saFieldAndLabelWrapper">
																				<label class="saLabelCell"
																					for="inputText1">
																					<div class="saLabel">
																						<span class="saMandatory">
																							Input Text
																						</span>
																					</div>
																				</label>
																				<div class="saFieldCell">
																					<div class="saInputWrapper long">
																						<div class="saInput">
																							<div
																								class="saInputTextWrapper saInputPageField long">
																								<textarea
																									class="saInputText saTextArea"
																									id="inputText1"
																									required
																									rows="8"></textarea>
																							</div>
																						</div>
																					</div>
																				</div>
																			</div>
																			<div class="saFieldAndLabelWrapper">
																				<label class="saLabelCell"
																					for="inputText1-2">
																					<div class="saLabel">
																						<span class="saMandatory">
																							Input Text
																						</span>
																					</div>
																				</label>
																				<div class="saFieldCell">
																					<div class="saInputWrapper long">
																						<div class="saInput">
																							<div
																								class="saInputTextWrapper saInputPageField long">
																								<input
																									class="saInputText"
																									id="inputText1-2"
																									required="true">
																							</div>
																							<div
																								class="saJavaScriptButtons">
																								<button
																									class="saLabeledFieldButton saJavaScriptButton saJavaScriptButtonJs"
																									type="button">
																									<span
																										class="saButtonText">Crow</span>
																								</button>
																								<button
																									class="saLabeledFieldButton saJavaScriptButton saJavaScriptButtonJs"
																									type="button">
																									<span
																										class="saButtonText">Egg</span>
																								</button>
																								<button
																									class="saLabeledFieldButton saJavaScriptButton saJavaScriptButtonJs"
																									type="button">
																									<span
																										class="saButtonText">Feather</span>
																								</button>
																							</div>
																						</div>
																					</div>
																				</div>
																			</div>
																		</div>
																	</div>
																</div>
																<div class="saFieldsColumn saLastVisible">
																	<div class="saSectionWrapper saLastVisible">
																		<div class="saFieldCollection long">
																			<div class="saFieldAndLabelWrapper">
																				<label class="saLabelCell"
																					for="textInput1-3">
																					<div class="saLabel">
																						<span>Number of birds</span>
																					</div>
																					<div class="saDescription">
																						The total number of birds
																						available.
																					</div>
																				</label>
																				<div class="saFieldCell">
																					<div class="saInputWrapper long">
																						<div class="saInput">
																							<div
																								class="saInputTextWrapper saInputPageField short">
																								<input
																									class="saInputText"
																									id="textInput1-3">
																							</div>
																						</div>
																					</div>
																				</div>
																			</div>
																			<div class="saFieldAndLabelWrapper">
																				<label class="saLabelCell"
																					for="textInput1-4">
																					<div class="saLabel">
																						<span>Bird description</span>
																					</div>
																				</label>
																				<div class="saFieldCell">
																					<div class="saInputWrapper long">
																						<div class="saInput">
																							<div
																								class="saInputTextWrapper saInputPageField long">
																								<textarea
																									class="saInputText saTextArea"
																									id="textInput1-4"
																									rows="4"></textarea>
																							</div>
																						</div>
																					</div>
																				</div>
																			</div>
																		</div>
																	</div>
																</div>
															</div>
														</fieldset>
														<fieldset class="saSectionWrapper">
															<legend class="saSectionHeaderWrapper" id="heading2">
																<div class="saSectionHeader">
																	<h2>Parameter page settings and more parameter page
																		settings for paramater page and other pages and
																		other pages</h2>
																</div>
															</legend>
															<div class="saFieldCollection long">
																<div class="saFieldAndLabelWrapper">
																	<label class="saLabelCell" for="inputText2">
																		<div class="saLabel">
																			<span class="saMandatory">
																				Input Text
																			</span>
																		</div>
																	</label>
																	<div class="saFieldCell">
																		<div class="saInputWrapper long">
																			<div class="saInput">
																				<div
																					class="saInputTextWrapper saInputPageField long">
																					<input class="saInputText"
																						id="inputText2" type="text"
																						required>
																				</div>
																			</div>
																		</div>
																	</div>
																</div>
																<div class="saFieldAndLabelWrapper">
																	<label class="saLabelCell">
																		<div class="saLabel"><span>Birds</span></div>
																	</label>
																	<div class="saFieldCell">
																		<div class="saInputWrapper longest">
																			<div class="saInput">
																				<div
																					class="saInputPageField saMultiRowWrapper">
																					<fieldset aria-label="Parameters">
																						<div
																							class="saMultiRowTableWrapper">
																							<div class="saMultiRow"
																								aria-role="table">
																								<div class="saMultiRowHeadGroup"
																									aria-role="rowgroup">
																									<div class="saMultiRowHead"
																										aria-role="row">
																										<div class="saMultiRowCellWrapper"
																											aria-role="columnheader"
																											id="inputLabel-1">
																											<div
																												class="saMultiRowCell">
																												<label
																													class="saLabelWrapper">
																													<div
																														class="saLabel">
																														<span
																															class="saMandatory">Name</span>
																													</div>
																												</label>
																											</div>
																										</div>
																										<div class="saMultiRowCellWrapper"
																											aria-role="columnheader"
																											id="inputLabel-2">
																											<div
																												class="saMultiRowCell">
																												<label
																													class="saLabelWrapper">
																													<div
																														class="saLabel">
																														<span
																															class="saMandatory">Type</span>
																													</div>
																												</label>
																											</div>
																										</div>
																										<div class="saMultiRowCellWrapper"
																											aria-role="columnheader"
																											id="inputLabel-3">
																											<div
																												class="saMultiRowCell">
																												<label
																													class="saLabelWrapper">
																													<div
																														class="saLabel">
																														<span
																															class="saMandatory">Serial
																															Number</span>
																													</div>
																												</label>
																											</div>
																										</div>
																										<div
																											class="saMultiRowCellWrapper">
																										</div>
																									</div>
																								</div>
																								<div class="saMultiRowRowsGroup"
																									aria-role="rowgroup">
																									<div class="saMultiRowRow"
																										aria-role="row">
																										<div class="saMultiRowCellWrapper"
																											aria-role="cell"
																											aria-labelledby="inputLabel-1">
																											<div
																												class="saMultiRowCell">
																												<div
																													class="saMultiRowInputWrapper long">
																													<div
																														class="saInputTextWrapper saMultiRowField long">
																														<input
																															class="saInputText">
																													</div>
																												</div>
																											</div>
																										</div>
																										<div class="saMultiRowCellWrapper"
																											aria-role="cell"
																											aria-labelledby="inputLabel-2">
																											<div
																												class="saMultiRowCell">
																												<div
																													class="saMultiRowInputWrapper mediumLong">
																													<div
																														class="saInputTextWrapper saMultiRowField mediumLong saHasTrailingIcons">
																														<select
																															class="saInputText saDropdown"
																															required="true">
																															<option
																																value="0">
																															</option>
																														</select>
																													</div>
																												</div>
																											</div>
																										</div>
																										<div class="saMultiRowCellWrapper"
																											aria-role="cell"
																											aria-labelledby="inputLabel-3">
																											<div
																												class="saMultiRowCell">
																												<div
																													class="saMultiRowInputWrapper long">
																													<div
																														class="saInputTextWrapper saMultiRowField long">
																														<input
																															class="saInputText">
																													</div>
																												</div>
																											</div>
																										</div>
																										<div
																											class="saMultiRowCellWrapper">
																											<div
																												class="saMultiRowCell">
																												<ul
																													class="saMultiRowButtons">
																													<li>
																														<button
																															class="saIconOnlyFieldButton saDestructive saDeleteRowButtonJs"
																															type="button">
																															<i
																																class="saIcon far fa-trash-alt"></i>
																														</button>
																													</li>
																												</ul>
																											</div>
																										</div>
																									</div>
																									<div class="saMultiRowRow"
																										aria-role="row">
																										<div class="saMultiRowCellWrapper"
																											aria-role="cell"
																											aria-labelledby="inputLabel-1">
																											<div
																												class="saMultiRowCell">
																												<div
																													class="saMultiRowInputWrapper long">
																													<div
																														class="saInputTextWrapper saMultiRowField long">
																														<input
																															class="saInputText">
																													</div>
																												</div>
																											</div>
																										</div>
																										<div class="saMultiRowCellWrapper"
																											aria-role="cell"
																											aria-labelledby="inputLabel-2">
																											<div
																												class="saMultiRowCell">
																												<div
																													class="saMultiRowInputWrapper mediumLong">
																													<div
																														class="saInputTextWrapper saMultiRowField mediumLong saHasTrailingIcons">
																														<select
																															class="saInputText saDropdown"
																															required="true">
																															<option
																																value="0">
																															</option>
																														</select>
																													</div>
																												</div>
																											</div>
																										</div>
																										<div class="saMultiRowCellWrapper"
																											aria-role="cell"
																											aria-labelledby="inputLabel-3">
																											<div
																												class="saMultiRowCell">
																												<div
																													class="saMultiRowInputWrapper long">
																													<div
																														class="saInputTextWrapper saMultiRowField long">
																														<input
																															class="saInputText">
																													</div>
																												</div>
																											</div>
																										</div>
																										<div
																											class="saMultiRowCellWrapper">
																											<div
																												class="saMultiRowCell">
																												<ul
																													class="saMultiRowButtons">
																													<li>
																														<button
																															class="saIconOnlyFieldButton saDestructive saDeleteRowButtonJs"
																															type="button">
																															<i
																																class="saIcon far fa-trash-alt"></i>
																														</button>
																													</li>
																												</ul>
																											</div>
																										</div>
																									</div>
																								</div>
																							</div>
																						</div>
																						<button
																							class="saMultiRowNewRowButton saLabeledFieldButton"
																							type="button">
																							<i
																								class="saIcon far fa-plus"></i>
																							New row
																						</button>
																					</fieldset>
																				</div>
																			</div>
																		</div>
																	</div>
																</div>
															</div>
														</fieldset>
														<fieldset class="saSectionWrapper">
															<legend class="saSectionHeaderWrapper" id="heading3">
																<div class="saSectionHeader">
																	<h2>Heading 3</h2>
																</div>
															</legend>
															<div class="saFieldCollection long">
																<div class="saFieldAndLabelWrapper">
																	<label class="saLabelCell" for="inputText3">
																		<div class="saLabel">
																			<span class="saMandatory">
																				Input Text
																			</span>
																		</div>
																	</label>
																	<div class="saFieldCell">
																		<div class="saInputWrapper long">
																			<div class="saInput">
																				<div
																					class="saInputTextWrapper saHighlightFieldError saInputPageField long">
																					<input class="saInputText"
																						id="inputText3" type="text"
																						required aria-invalid="true"
																						aria-required="true"
																						aria-errormessage="inputText3Error">
																				</div>
																			</div>
																			<label
																				class="saValidationMessage saError saErrorJs"
																				for="inputText3" id="inputText3Error">
																				<i class="saIcon fas fa-octagon-xmark"
																					aria-hidden="true"></i>
																				<div class="saValidationMessageText"
																					role="alert">
																					Error message
																				</div>
																			</label>
																		</div>
																	</div>
																</div>
															</div>
														</fieldset>
														<fieldset class="saSectionWrapper">
															<legend class="saSectionHeaderWrapper" id="heading4">
																<div class="saSectionHeader">
																	<h2>Heading 4</h2>
																</div>
															</legend>
															<div class="saFieldCollection long">
																<div class="saFieldAndLabelWrapper">
																	<label class="saLabelCell" for="inputText4">
																		<div class="saLabel">
																			<span class="saMandatory">
																				Input Text
																			</span>
																		</div>
																	</label>
																	<div class="saFieldCell">
																		<div class="saInputWrapper long">
																			<div class="saInput">
																				<div
																					class="saInputTextWrapper saInputPageField long">
																					<input class="saInputText"
																						id="inputText4" type="text"
																						required>
																				</div>
																			</div>
																		</div>
																	</div>
																</div>
															</div>
														</fieldset>
														<fieldset class="saSectionWrapper">
															<legend class="saSectionHeaderWrapper" id="heading5">
																<div class="saSectionHeader">
																	<h2>Heading 5</h2>
																</div>
															</legend>
															<div class="saFieldCollection long">
																<div class="saFieldAndLabelWrapper">
																	<label class="saLabelCell" for="inputText5">
																		<div class="saLabel">
																			<span class="saMandatory">
																				Input Text
																			</span>
																		</div>
																	</label>
																	<div class="saFieldCell">
																		<div class="saInputWrapper long">
																			<div class="saInput">
																				<div
																					class="saInputTextWrapper saInputPageField long">
																					<input class="saInputText"
																						id="inputText5" type="text"
																						required>
																				</div>
																			</div>
																		</div>
																	</div>
																</div>
															</div>
														</fieldset>
														<fieldset class="saSectionWrapper saLastVisible">
															<legend class="saSectionHeaderWrapper" id="heading6">
																<div class="saSectionHeader">
																	<h2>Heading 6</h2>
																</div>
															</legend>
															<div class="saFieldCollection long">
																<div class="saFieldAndLabelWrapper">
																	<label class="saLabelCell" for="inputText6">
																		<div class="saLabel">
																			<span class="saMandatory">
																				Input Text
																			</span>
																		</div>
																	</label>
																	<div class="saFieldCell">
																		<div class="saInputWrapper long">
																			<div class="saInput">
																				<div
																					class="saInputTextWrapper saInputPageField long">
																					<textarea
																						class="saInputText saTextArea"
																						id="inputText6" required
																						rows="96"></textarea>
																				</div>
																			</div>
																		</div>
																	</div>
																</div>
															</div>
														</fieldset>
													</fieldset>
												</div>
											</div>
											<div class="saInputPageFooter">
												<div class="saFormButtonGroup">
													<button class="saFormButton saButtonPrimary" type="submit">
														<i class="icon fas fa-spin fa-spinner saSpinner"></i>
														Save
													</button>
													<button class="saFormButton saButtonSecondary" type="button">
														<i class="icon fas fa-spin fa-spinner saSpinner"></i>
														Cancel
													</button>
												</div>
											</div>
										</div>
									</div>
								</div>
							</main>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</body>

<script>
	$(document).ready(function () {
		/*
		function positionToCDot() {
			const $tocDot = $('.saToCDot');
			const $current = $('#toc-list li[aria-current="true"]');
			if ($current.length === 0) {
				$tocDot.hide();
				return;
			}
			$tocDot.show();
			const $tocList = $('#toc-list');
			const listOffset = $tocList.offset();
			const currentOffset = $current.offset();
			const dotHeight = $tocDot.outerHeight();
			const dotWidth = $tocDot.outerWidth();
			const currentHeight = $current.outerHeight();

			if (listOffset && currentOffset) {
				const top = currentOffset.top - listOffset.top + 163 + (currentHeight / 2) - (dotHeight / 2);
				$tocDot.css('top', top + 'px');
			}
		}

		// Initial positioning
		positionToCDot();

		// Reposition on scroll and when ToC changes
		$('#MI_ScrollContent').on('scroll', positionToCDot);
		$(window).on('resize', positionToCDot);

		// Also reposition when ToC is toggled
		$('#toc-btn').on('click', function () {
			setTimeout(positionToCDot, 200);
		});

		*/

		$('.saErrorSummaryCloseButton').click(function (e) {
			e.preventDefault();
			$('.saErrorSummaryWrapper').remove();
		});

		$('#shuffle').click(function (e) {
			$('.saFormRoot').toggleClass('saLabelsAbove saLabelsBefore');
		});
		function wrapped() {
			var $children = $('.saFormRootWrapper').children();
			var wrapped = $children.eq(0).offset().top !== $children.eq(1).offset().top;

			// Fallback using horizontal position
			if (!wrapped) {
				wrapped = $children.eq(1).offset().left < $children.eq(0).offset().left;
			}

			$('.saFormRootWrapper').toggleClass('saWrapped', wrapped);
		}

		wrapped();
		$(window).on('resize', wrapped);

		$('#toc-btn').click(function (e) {
			e.preventDefault();
			$('.saToC').toggleClass('saMinimized');
		});


		$('.saSectionHeaderWrapper').each(function () {
			const $header = $(this);
			const id = this.id;
			const headingText = $header.find('h2').text().trim();
			if (!id || !headingText) return;

			const $sectionWrapper = $header.closest('.saSectionWrapper');
			const hasError = $sectionWrapper.find('.saHighlightFieldError').length > 0;
			const hasWarning = $sectionWrapper.find('.saHighlightFieldWarning').length > 0;

			const $link = $('<a>', { href: `#${id}` }).append(
				$('<span>').text(headingText)
			);

			if (hasError) {
				$link.append(
					$('<i>', {
						class: 'saIcon fas fa-hexagon-xmark saError',
						'data-tooltip': 'This section has an error.',
						'aria-label': 'This section has an error.'
					})
				);
			}
			if (hasWarning) {
				$link.append(
					$('<i>', {
						class: 'saIcon fas fa-hexagon-xmark saWarning',
						'data-tooltip': 'This section has a warning.',
						'aria-label': 'This section has a warning.'
					})
				);
			}

			const $listItem = $('<li>', { 'aria-current': 'false' }).append($link);
			$('#toc-list').append($listItem);
		});


		const $tocLinks = $('.saToC a');
		const $body = $('body');
		const $scrollContent = $('#MI_ScrollContent');
		const sections = $tocLinks.map(function () {
			return $($(this).attr('href'));
		}).get();

		$scrollContent.on('scroll', function () {
			if (!$body.hasClass('saLargeScreen')) return;
			const scrollTop = $(window).scrollTop();
			let currentId = null;
			for (const section of sections) {
				if (section.offset().top - 200 <= scrollTop) {
					currentId = section.attr('id');
				}
			}
			$tocLinks.each(function () {
				const $link = $(this);
				const $li = $link.closest('li');
				$li.attr('aria-current', $link.attr('href') === `#${currentId}`);
			});
		});
	});
</script>

</html>