<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Jonathan</title>
		<link rel="stylesheet" href="./src/style/screen.template.css">
		<link rel="stylesheet" href="../src/fontawesome/css/all.css">
		<script src="https://code.jquery.com/jquery-3.7.1.min.js"
			integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
		<script src="./script.js"></script>
		<script type="text/javascript" src="https://livejs.com/live.js"></script>
		<link rel="icon" type="image/png" size="16x16" href="../src/img/favicon.svg">
	</head>
	<body class="saRootBody saLargeScreen saPc saCompact">
		<div class="saRootContentWrapper">
			<div class="saSideBar saSideBarJs saExpanded">
				<form id="aspnetForm">
					<nav id="SideBar">
						<div class="saPageHeader saSmallScreenHeader">
							<div class="saHeader">
								<div class="saTopRow">
									<button class="saNavigator" type="button">
										<div class="saNavBar saActive"><span class="saNavBarStripe"></span>
											<span class="saNavBarStripe"></span>
											<span class="saNavBarStripe"></span>
										</div>
									</button>
									<div class="saHeaderWrapper">
										<div class="saTitle">
											<h1>Softadmin® Utvecklingssystem</h1>
										</div>
									</div>
									<button class="saNotificationWrapper" type="button">
										<div><i class="far fa-bell saIcon"></i></div>
										<div class="saNotificationBadge saEmpty" aria-hidden="true">
											<div class="saNotificationBadgeCount">0</div>
										</div>
									</button>
								</div>
							</div>
						</div>
						<div class="saSidenav" id="sidenav">
							<div class="saSidenavSection">
								<div class="saCustomerLogo">
									<div>
										<img src="../src/img/logo.svg" alt="Softadmin® logo" style="min-height: 5rem;">
									</div>
								</div>
								<div class="saSidenavContainer">
									<div class="saSidenavItem saMenuDropdownsOuter">
										<div class="saSidenavItemWrapper">
											<label class="saInputTextWrapper saLabeled">
												<span class="saLabeledLabel">User</span>
												<span class="saFirstLetter">J</span>
												<select class="saInputText saDropdown">
													<option value="0" selected="true">Jonathan</option>
													<option value="1">Kevin</option>
												</select>
												<div class="saTrailingIconsWrapper">
													<i class="saIcon far fa-angle-down"></i>
												</div>
											</label>
										</div>
									</div>
									<div class="saToggleGroup" role="tablist" aria-label="Toggle menu/favorites">
										<button class="saDynamicTooltipJs" type="button" id="tabbutton1" role="tab"
											aria-selected="true">
										<i class="saIcon far fa-bars" aria-hidden="true"></i>
										<span class="saToggleText">Menu</span>
										</button>
										<button class="saDynamicTooltipJs" type="button" id="tabbutton2" role="tab">
										<i class="saIcon far fa-star" aria-hidden="true"></i>
										<span class="saToggleText">Favorites</span>
										</button>
									</div>
								</div>
								<div class="saSidenavLists">
									<ul class="saSidenavItemList">
										<li>
											<a class="saSidenavItemWrapper" tabindex="0">
												<div class="saSidenavItem">
													<i class="far fa-crow saIcon"></i>
													<span class="saSidenavItemText">Crow</span>
												</div>
											</a>
										</li>
										<li>
											<a class="saSidenavItemWrapper" tabindex="0">
												<div class="saSidenavItem">
													<i class="far fa-arrow-turn-down-left saIcon"></i>
													<span class="saSidenavItemText">Egg</span>
												</div>
											</a>
										</li>
										<li>
											<a class="saSidenavItemWrapper" tabindex="0">
												<div class="saSidenavItem">
													<i class="far fa-feather saIcon"></i>
													<span class="saSidenavItemText">Flying lessons</span>
												</div>
											</a>
										</li>
										<li>
											<a class="saSidenavItemWrapper" tabindex="0">
												<div class="saSidenavItem">
													<i class="far fa-ticket-alt saIcon"></i>
													<span class="saSidenavItemText">Aviary tickets</span>
												</div>
											</a>
										</li>
									</ul>
								</div>
							</div>
							<div class="saSidenavSection saSidenavSectionLast">
								<div class="saSidenavContainer">
									<div class="saListItem">
										<button class="saSidenavItemWrapper" type="button"
											aria-expanded="false">
											<div class="saSidenavItem saAvatarWrapperOuter">
												<div class="saAvatarWrapper saUserInitials" aria-hidden="true">JK</div>
												<span
													class="saSidenavItemText">Jonathan Kevin</span><i
													class="far fa-angle-down saIcon"></i>
											</div>
										</button>
									</div>
									<div class="saSidenavItem saSidenavItemRow">
										<button class="saSidenavItemWrapper" type="button">
											<div class="saSidenavItem">
												<i class="far fa-gear icon saIcon"></i>
												<span class="saSidenavItemText">Admin</span>
											</div>
										</button>
										<button class="saSidenavItemWrapper" type="button">
											<div class="saSidenavItem">
												<i class="far fa-person-limbs-wide icon saIcon"></i>
												<span class="saSidenavItemText">Database designer</span>
											</div>
										</button>
										<button class="saSidenavItemWrapper" type="button">
											<div class="saSidenavItem">
												<i class="far fa-window-restore icon saIcon"></i>
												<span class="saSidenavItemText">Ny flik</span>
											</div>
										</button>
										<button class="saSidenavItemWrapper" type="button">
											<div class="saSidenavItem">
												<i class="far fa-circle-question icon saIcon"></i>
												<span class="saSidenavItemText">Visa hjälpsida - Allmän hjälpsida</span>
											</div>
										</button>
										<button class="saSidenavItemWrapper saNotificationLinkLargeScreen" type="button">
											<div class="saSidenavItem">
												<div><i class="far fa-bell saIcon"></i></div>
												<span class="saSidenavItemText">Notifieringar</span>
											</div>
											<div class="saNotificationBadge saEmpty" aria-hidden="true">
												<div class="saNotificationBadgeCount">0</div>
											</div>
										</button>
									</div>
								</div>
								<div class="saSidenavFooter">
									<a class="saSoftadminLogo" rel="noopener noreferrer" tabindex="-1" href="#">
									<img class="saLogo" src="../src/img/softadmin-logo-minimized.svg">
									<img class="saWordmark" src="../src/img/softadmin-logo-expanded.svg">
									</a>
									<button class="saExpander saDynamicTooltipJs" type="button">
									<i class="fa-angles-left far saIcon"></i>
									</button>
								</div>
							</div>
						</div>
					</nav>
				</form>
			</div>
			<div class="saRightFrameRoot">
				<div class="right standardview">
					<div class="pagecontentframe">
						<form class="interface">
							<header id="pageheader" class="saPageHeaderHolder">
								<div class="saPageHeader saDesktopHeader">
									<div class="saHeader">
										<div class="saRowWrapper">
											<div class="saTopRow">
												<nav class="saBreadcrumbs">
													<div class="saBackButtonWrapper">
														<button class="saBackButton" type="button" disabled>
														<i class="fa-arrow-left far saBack saIcon"></i>
														</button>
													</div>
												</nav>
											</div>
											<div class="saBottomRow">
												<div class="saTitle">
													<h1 class="saHeaderText">Test</h1>
													<div class="saMarkFavorite saNoSpinner"><button type="button"><i
														class="fas fa-star saFavoriteIcon saFavoriteAdded icon saIcon"></i></button>
													</div>
													<ul class="saSpecialLinksWrapper"></ul>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="saPageHeader saSmallScreenHeader">
									<div class="saHeader">
										<div class="saHeaderInner">
											<div class="saTopRow">
												<div class="saHeaderWrapper">
													<div class="saTitle">
														<h1 class="saHeaderText">Test</h1>
													</div>
												</div>
												<button class="saNavigator" type="button">
													<div class="saNavBar"><span class="saNavBarStripe"></span><span
														class="saNavBarStripe"></span><span
														class="saNavBarStripe"></span>
													</div>
												</button>
												<button class="saNotificationWrapper" type="button"
													aria-live="polite">
													<div><i class="far fa-bell saIcon"></i></div>
													<div class="saNotificationBadge saEmpty" aria-hidden="true">
														<div class="saNotificationBadgeCount">0</div>
													</div>
												</button>
											</div>
										</div>
										<nav class="saBottomRow saActionLinkBar" style="display: none;"></nav>
									</div>
								</div>
							</header>
							<div class="maincolinner gradients">
								<main id="MI_M" class="menuitem pagecontentframe">
									<div id="MI_ScrollIndicator" class="scrollindicator"></div>
									<div id="MI_ScrollContent" class="scrollcontent saScrollable">
										<div class="scrollcontent-inner">
											<div class="saChatWrapper">
												<div class="saChat saUrgent">
													<div class="saChatHeader" id="chatname">
														<div class="saChatTitle">Chat name</div>
														<div class="saChatHeaderDescription">7 members</div>
													</div>
													<ul class="saChatToolbar" role="toolbar">
														<li>
															<button type="button" class="saButton saDefaultButtonSecondary">
															<i class="far fa-arrow-turn-down-left saIcon"></i>
															Egg
															</button>
														</li>
														<li>
															<button type="button" class="saButton saDefaultButtonSecondary">
															<i class="far fa-crow saIcon"></i>
															Crow
															</button>
														</li>
														<li>
															<button type="button" class="saButton saDefaultButtonSecondary IconButton">
															<i class="far fa-ellipsis-vertical saIcon"></i>
															</button>
														</li>
													</ul>
													<div class="saMessageGroupWrapper" aria-role="log"
														aria-relevant="additions" aria-labelledby="chatname">
														<div class="saMessageGroup">
															<div class="saChatDayWrapper">

																<h3 class="saChatDay">
																	<time datetime="2025-09-02">
																		1 december 2024
																	</time>
																</h3>
															</div>
															<div class="saMessage">
																<ul class="saMessageToolbar" role="toolbar">
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="does this" title="description">
																		<i class="saIcon far fa-arrow-turn-down-left"></i>
																		</button>
																	</li>
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="does this" title="description">
																		<i class="saIcon far fa-feather"></i>
																		</button>
																	</li>
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="does this" title="description">
																		<i class="saIcon far fa-crow"></i>
																		</button>
																	</li>
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="does this" title="description">
																		<i class="saIcon far fa-ellipsis-vertical"></i>
																		</button>
																	</li>
																</ul>
																<div class="saSenderAvatarWrapper">
																	<div title="Olivia Rydén"
																		class="saSenderAvatar saColorPurple">MV</div>
																	<input type="checkbox" name="EÖ"
																		class="saAvatarCheckbox saCheckbox"
																		aria-label="select message">
																</div>
																<div class="saMessageInner">

																	<div class="saMessageBody">
																		<p>Hey flock, let's soar UP to new heights this
																			week! Together, we'll reach heights
																			we've never imagined. Spread your wings and
																			let's make magic happen!
																		</p>
																		<p>As we gather together, envisioning the vast
																			expanse of the sky above us, let's
																			remember the strength we hold when we unite.
																			Each of us brings a unique set of
																			skills and experiences to the table, and when we
																			combine them, we create a
																			powerful
																			force for success. Just like a flock of birds
																			flying in formation, we move
																			forward
																			with purpose and determination. So let's embrace
																			the challenges that lie ahead,
																			knowing that with our collective effort, there's
																			no limit to what we can
																			achieve.
																			Let's lift each other UP, supporting one another
																			as we strive for greatness.
																			Together, we'll soar to new heights and make
																			this week one to remember
																		</p>
																	</div>
																	<div class="saMessageFooter">
																		<div class="saSenderName">His Excellency Master
																			Maximilian-Alexander
																			Vanderbilt-Smithington III of Astoria-on-Thames
																		</div>
																		<time class="saMessageTime" datetime="2026-01-12T12:15:12+02:00" aria-label="Sent at 12:40">12:40</time>
																	</div>
																</div>
															</div>
														</div>
														<div class="saMessageGroup">
															<div class="saChatDayWrapper">

																<h3 class="saChatDay">
																	<time datetime="2025-09-02">
																		2 december 2024
																	</time>
																</h3>
															</div>
															<div class="saMessage">
																<ul class="saMessageToolbar" role="toolbar">
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="does this" title="description">
																		<i class="saIcon far fa-arrow-turn-down-left"></i>
																		</button>
																	</li>
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="does this" title="description">
																		<i class="saIcon far fa-feather"></i>
																		</button>
																	</li>
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="does this" title="description">
																		<i class="saIcon far fa-crow"></i>
																		</button>
																	</li>
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="does this" title="description">
																		<i class="saIcon far fa-ellipsis-vertical"></i>
																		</button>
																	</li>
																</ul>
																<div class="saSenderAvatarWrapper">
																	<div title="Olivia Rydén"
																		class="saSenderAvatar saColorPurple">EÖ</div>
																	<input type="checkbox" name="EÖ"
																		class="saAvatarCheckbox saCheckbox"
																		aria-label="select message">
																</div>
																<div class="saMessageInner">
																	<div class="saMessageBody">
																		<p>Calling all early birds! It's time to rise UP and
																			shine. Let's tweet our
																			successes
																			and fly towards our goals with enthusiasm.
																			Here's to a chirpy day ahead!
																		</p>
																		<p>
																			<span>As we start our day, let's take a moment to appreciate the beauty of the sunrise and</span>
																			<img src="../src/img/chat-2.jpg" alt="">
																			<span>the promise of a new beginning. With each task we tackle and each obstacle we overcome, let's remember the strength we possess within ourselves. Like birds greeting the dawn with song, let's approach our work with positivity and determination. And as we navigate through the challenges that come our way, let's support each other with kindness and encouragement. Together, we'll make today a day to remember, filled with accomplishments and moments of joy. So let's spread our wings and soar towards success, knowing that the sky's the limit for our team!</span>
																		</p>
																	</div>
																	<div class="saMessageFooter">
																		<div class="saSenderName">Erik Öster</div>
																		<time class="saMessageTime" datetime="2026-01-12T12:15:12+02:00">18:39</time>
																	</div>
																</div>
															</div>
														</div>
														<div class="saMessageGroup">
															<div class="saChatDayWrapper">

																<h3 class="saChatDay">
																	<time datetime="2025-09-02">
																		3 december 2024
																	</time>
																</h3>
															</div>
															<div class="saMessage">
																<ul class="saMessageToolbar" role="toolbar">
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="does this" title="description">
																		<i class="saIcon far fa-arrow-turn-down-left"></i>
																		</button>
																	</li>
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="does this" title="description">
																		<i class="saIcon far fa-feather"></i>
																		</button>
																	</li>
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="does this" title="description">
																		<i class="saIcon far fa-crow"></i>
																		</button>
																	</li>
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="does this" title="description">
																		<i class="saIcon far fa-ellipsis-vertical"></i>
																		</button>
																	</li>
																</ul>
																<div class="saSenderAvatarWrapper">
																	<div title="Olivia Rydén"
																		class="saSenderAvatar saColorPink">JM</div>
																	<input type="checkbox" name="EÖ"
																		class="saAvatarCheckbox saCheckbox"
																		aria-label="select message">
																</div>
																<div class="saMessageInner">
																	<div class="saMessageBody">
																		<p>Wings UP, team! As we navigate through our tasks
																			today.
																		</p>
																	</div>
																	<div class="saMessageFooter">
																		<div class="saSenderName">Jessica Mås</div>
																		<time class="saMessageTime" datetime="2026-01-12T12:15:12+02:00" aria-label="Sent at 11:00">11:01</time>
																	</div>
																</div>
															</div>
															<div class="saMessage">
																<ul class="saMessageToolbar" role="toolbar">
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="Egg situation update needed"
																			title="Description">
																		<i class="saIcon far fa-arrow-turn-down-left"></i>
																		</button>
																	</li>
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="Discussion on the bird bill of sale"
																			title="Description">
																		<i class="saIcon far fa-feather"></i>
																		</button>
																	</li>
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="Any news regarding the egg issue?"
																			title="Description">
																		<i class="saIcon far fa-crow"></i>
																		</button>
																	</li>
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="Discussion needed"
																			title="Description">
																		<i class="saIcon far fa-ellipsis-vertical"></i>
																		</button>
																	</li>
																</ul>
																<div class="saSenderAvatarWrapper">
																	<div title="Olle Ekman"
																		class="saSenderAvatar saColorPrimary">OE</div>
																	<input type="checkbox" name="EÖ"
																		class="saAvatarCheckbox saCheckbox"
																		aria-label="Select message">
																</div>
																<div class="saMessageInner">
																	<div class="saMessageBody">
																		<p>Yes Jessica... Let's first address the egg
																			situation and make sure we have all
																			the
																			details sorted out regarding the bird bill of
																			sale? What our progress?
																		</p>
																	</div>
																	<div class="saMessageFooter">
																		<div class="saSenderName">Olle Ekman</div>
																		<time class="saMessageTime" datetime="2026-01-12T12:15:12+02:00" aria-label="Sent at 11:00">11:03</time>
																	</div>
																</div>
															</div>
															<div class="saMessage">
																<ul class="saMessageToolbar" role="toolbar">
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="does this" title="description">
																		<i class="saIcon far fa-arrow-turn-down-left"></i>
																		</button>
																	</li>
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="does this" title="description">
																		<i class="saIcon far fa-feather"></i>
																		</button>
																	</li>
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="does this" title="description">
																		<i class="saIcon far fa-crow"></i>
																		</button>
																	</li>
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="does this" title="description">
																		<i class="saIcon far fa-ellipsis-vertical"></i>
																		</button>
																	</li>
																</ul>
																<div class="saSenderAvatarWrapper">
																	<div title="Olivia Rydén"
																		class="saSenderAvatar saColorPurple">EÖ</div>
																	<input type="checkbox" name="EÖ"
																		class="saAvatarCheckbox saCheckbox"
																		aria-label="select message">
																</div>
																<div class="saMessageInner">
																<div class="saMessageBody">
																		<p>With unity and determination, there's no limit to
																			what we can achieve!
																		</p>
																	</div>
																	<div class="saMessageFooter">
																		<div class="saSenderName">Erik Öster</div>
																		<time class="saMessageTime" datetime="2026-01-12T12:15:12+02:00" aria-label="Sent at 11:00">08:11</time>
																	</div>
																</div>
															</div>
														</div>
														<a href="#firstunreadmessage" class="saChatUnreadWrapper">
															<div class="saChatUnread" aria-live="polite">
																2 unread messages
																<i class="fa-caret-down saIcon fas"></i>
																<i class="fa-caret-up saIcon fas"></i>
															</div>
														</a>
														<div class="saMessageGroup">
															<div class="saChatDayWrapper">
																<h3 class="saChatDay">
																	<time datetime="2025-09-02">
																		Today
																	</time>
																</h3>
															</div>
															<div class="saMessage saUnread" id="firstunreadmessage">
																<ul class="saMessageToolbar" role="toolbar">
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="Update on the egg situation"
																			title="Description">
																		<i class="saIcon far fa-arrow-turn-down-left"></i>
																		</button>
																	</li>
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="Discussion needed for the bird bill of sale"
																			title="Description">
																		<i class="saIcon far fa-feather"></i>
																		</button>
																	</li>
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="Any progress regarding the egg issue?"
																			title="Description">
																		<i class="saIcon far fa-crow"></i>
																		</button>
																	</li>
																	<li>
																		<button type="button" class="saButton saIconButton"
																			aria-label="Discussion needed"
																			title="Description">
																		<i class="saIcon far fa-ellipsis-vertical"></i>
																		</button>
																	</li>
																</ul>
																<div class="saSenderAvatarWrapper">
																	<img title="Molker Birdley" class="saSenderAvatar"
																		src="../src/img/avatar2.png">
																	<input type="checkbox" name="EÖ"
																		class="saAvatarCheckbox saCheckbox"
																		aria-label="Select message">
																</div>
																<div class="saMessageInner">

																	<div class="saMessageBody">
																		<p>BTW,<br>Just wanted to check in and see if there are any updates on the egg situation. Let's make sure we're on track to resolve it efficiently. Also, it's time we discuss the bird bill of sale. I'll be available for a meeting later today to go over the details. Looking forward to hearing from everyone!</p>
																	</div>
																	<div class="saMessageFooter">
																		<div class="saSenderName">Molker Birdley</div>
																		<time class="saMessageTime" datetime="2026-01-12T12:15:12+02:00" aria-label="Sent at 05:40">06:51</time>
																	</div>
																</div>
															</div>
														</div>
													</div>
													<div class="saChatComposer">
														<textarea name="message" placeholder="Write your message..."></textarea>

														<toolbar>
															<label class="saButtonToolbar" tabindex="0">
																<input type="file" type="button" class="saButtonToolbar" aria-label="Attatch">
																<i class="fa-paperclip saIcon far"></i>
															</label>
															<button type="button" class="saButtonToolbar" aria-label="Emoji">
																<i class="fa-face-smile saIcon far"></i>
															</button>
														</toolbar>
														<button type="submit" class="saButtonSend" disabled aria-label="Send message" title="Send message">
															<i class="fa-paper-plane-top saIcon far"></i>
														</button>
													</div>
												</div>
											</div>
											<div class="saChatX">
												<label><input type="checkbox" id="headerVis" checked>Show header</label>
												<label><input type="checkbox" id="chatToolbarVis" checked>Chat Toolbar</label>
												<label><input type="checkbox" id="messageToolbarVis" checked>individual message Toolbar</label>
												<label><input type="checkbox" id="avatarVis" checked>Checkbox avatar</label>
												<label><input type="checkbox" id="imgVis" checked>Show images</label>
											</div>
										</div>
									</div>
								</main>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</body>
	<script>
		$(document).ready(function () {
			$(".saMessageGroupWrapper").scroll(function () {
				var parentHeight = $(".saMessageGroupWrapper").height();
				var stickyDivHeight = $(".saChatDayWrapper").outerHeight();
				var stickyDivOffset = $(".saChatDayWrapper").offset().top - $(".saMessageGroupWrapper").offset().top;
				var scrollPosition = $(".saMessageGroupWrapper").scrollTop();

				if ((scrollPosition + parentHeight) >= (stickyDivOffset + stickyDivHeight)) {
					// Sticky div has reached the bottom of its parent
					console.log("Sticky div reached bottom of parent.");
					// You can perform actions here, such as adding/removing classes, triggering events, etc.
				}
			});



			$(".saMessageGroupWrapper").on("scroll", function () {
				var containerHeight = $(this).scrollTop();
				var containerTop = $(this).offset().top;
				var containerBottom = containerTop + $(this).height();

				$(".saMessage.saUnread").each(function (index) {
					var targetTop = $(this).offset().top;

					if (targetTop >= containerTop && targetTop <= containerBottom - 40) {
						$(this).addClass('saRead');

						setTimeout(() => {
							$(this).removeClass('saUnread saRead');
						}, 1000);

						setTimeout(() => {
							if ($(".saChat .saUnread").length === 0) {
								$(".saChatUnreadWrapper").animate({
									opacity: 0,
								}, 200,

									function () {
										$(".saChatUnreadWrapper").remove();
									}
								);
							}
						}, 2000);
					}
				});
			});

			var scrollableContainer = $('.saMessageGroupWrapper');
			var childDiv = $('#firstunreadmessage');
			var isChildVisible = false; // Variable to track the visibility state of the child div

			scrollableContainer.scroll(function () {
				var containerTop = scrollableContainer.offset().top;
				var containerBottom = containerTop + scrollableContainer.height();
				var childTop = childDiv.offset().top;
				var childBottom = childTop + childDiv.height();

				var isVisible = (childBottom >= containerTop) && (childTop <= containerBottom);

				if (isVisible && !isChildVisible) {
					$('.saChatUnreadWrapper').removeClass('saAbove');
					isChildVisible = true;
				}

				else if (!isVisible && isChildVisible) {
					$('.saChatUnreadWrapper').addClass('saAbove');
					isChildVisible = false;
				}
			});

			$('.saMessageGroupWrapper').scroll(function () {
				$(".saChatDayWrapper").each(function (index) {
					var firstSticky = $(this);
					var pill = firstSticky.find('.saChatDay');
					var secondSticky = $(".saChatDayWrapper").eq(index + 1);

					if (secondSticky.length > 0) {
						var distance = secondSticky.offset().top - firstSticky.offset().top;

						if (distance <= 100) {
							var scale = Math.max(0, distance / 100).toFixed(2);

							if (scale <= 0.1) {
								scale = 0;
							}
							pill.css("transform", "scale(" + scale + ")");
						}

						else {
							pill.css("transform", "scale(1)");
						}


						if (distance <= 50) {
							var opacity = Math.max(0, distance / 50).toFixed(2);

							if (opacity <= 0.1) {
								opacity = 0;
							}
							pill.css("opacity", opacity);
						}

						else {
							pill.css("opacity", "1");
						}
					}

					var chatDayWrapper = $(this);
					var distanceFromTop = chatDayWrapper.offset().top - $('.saMessageGroupWrapper').offset().top;
					var remainingDistance = distanceFromTop;
					var widthPercentage = (remainingDistance / 100) * 100;
					widthPercentage = Math.max(0, Math.min(100, widthPercentage));

					if (widthPercentage < 10) {
						widthPercentage = 0;
					}

					chatDayWrapper.find('.saLine').css('width', 'calc(' + widthPercentage + "% - 32px)");

				});
			});



			var holdTimer;

			function handleLongPress() {
				$('.saMessage').removeClass('saSelected');
				$(this).toggleClass('saSelected');
			}

			$('.saMessage').on('touchstart', function () {
				holdTimer = setTimeout(handleLongPress.bind(this), 800);
			});

			$('.saMessage').on('touchend', function () {
				clearTimeout(holdTimer);
			});

			$(document).on('click touchstart', function (event) {
				if (!$(event.target).closest('.saMessage.saSelected').length) {
					$('.saMessage').removeClass('saSelected');
				}
			});


			const $chatToolbarVis = $('#chatToolbarVis')
			const $messageToolbarVis = $('#messageToolbarVis')
			const $avatarVis = $('#avatarVis')
			const $lineVis = $('#lineVis')
			const $imgVis = $('#imgVis')
			const $headerVis = $('#headerVis')

			$headerVis.click(function (e) {
				$('.saChatHeader').toggle();
			});

			$imgVis.click(function (e) {
				$('.saMessageBody img').toggle();
			});

			$chatToolbarVis.click(function (e) {
				$('.saChatToolbar').toggle();
			});

			$messageToolbarVis.click(function (e) {
				$('.saMessageToolbar').toggle();
			});


			$avatarVis.click(function () {
				var $element = $('.saAvatarCheckbox');
				if ($element.length) {
					$element.remove();
				} else {
					$('.saSenderAvatarWrapper').append('<input type="checkbox" name="TJ" class="saAvatarCheckbox saCheckbox" aria-label="select message">');
				}
			});


			const $textarea = $('textarea');
			const $sendButton = $('.saButtonSend');
			const $sendButtonIcon = $('.saButtonSend i.saIcon');
			const $messageGroupWrapper = $('.saMessageGroupWrapper');
			const $messageGroupLast = $('.saMessageGroup:last');

			$textarea.on('input', function (event) {
				autoExpand($textarea);
				toggleSendButton($textarea, $sendButton);
			});

			$sendButton.on('click', function (event) {
				sendMessage($textarea, $messageGroupWrapper);
			});

			$textarea.on('keydown', function (event) {
				if (event.key === 'Enter' && !event.shiftKey) {
					event.preventDefault();
					sendMessage($textarea, $messageGroupWrapper);
				}
			});

			function autoExpand($textarea) {
				$textarea.prop('rows', 1);
				const newHeight = Math.ceil($textarea[0].scrollHeight / 32);
				$textarea.prop('rows', newHeight).addClass('saNewHeight');

			}

			function toggleSendButton($textarea, $sendButton) {
				const isDisabled = $textarea.val().trim() === '';

				$sendButton.prop('disabled', isDisabled);

				if (isDisabled) {
					$sendButtonIcon.removeClass('fas').addClass('far');
				} else {
					$sendButtonIcon.removeClass('far').addClass('fas');
				}
			}

			function sendMessage($textarea, $messageGroup) {
				const messageText = $textarea.val().trim();
				const currentTime = new Date();
				const formattedTime = currentTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

				if (messageText !== '') {
					const $lastMessage = $messageGroup.find('.saMessage:last');
					const lastMessageTime = $lastMessage.find('.saMessageTime').text();

					if (lastMessageTime === formattedTime) {
						const $lastMessageBody = $lastMessage.find('.saMessageBody');
						$lastMessageBody.append(`<p>${messageText}</p>`);
					}
					else {

						const newMessage = `
					<div class="saMessage saSender saNew">
						<ul class="saMessageToolbar" role="toolbar">
						<li>
							<button type="button" class="saButton saIconButton" aria-label="does this" title="description">
								<i class="saIcon far fa-arrow-turn-down-left"></i>
							</button>
						</li>
						<li>
							<button type="button" class="saButton saIconButton" aria-label="does this" title="description">
								<i class="saIcon far fa-feather"></i>
							</button>
						</li>
						<li>
							<button type="button" class="saButton saIconButton" aria-label="does this" title="description">
								<i class="saIcon far fa-crow"></i>
							</button>
						</li>
						<li>
							<button type="button" class="saButton saIconButton" aria-label="does this" title="description">
								<i class="saIcon far fa-ellipsis-vertical"></i>
							</button>
						</li>
					</ul>
					<div class="saMessageInner">

							<div class="saMessageBody">
								<p>${messageText}</p>
							</div>
							<div class="saMessageFooter">
								<time class="saMessageTime" datetime="2026-01-12T12:15:12+02:00" aria-label="Sent at 11:00" >${formattedTime}</time>
							</div>
						</div>
					</div>

				`;

						$messageGroupLast.append(newMessage);
					}


					$textarea.val('');
					autoExpand($textarea);
					toggleSendButton($textarea, $sendButton);
					$messageGroup.scrollTop($messageGroup[0].scrollHeight);
				}
			}
		});
	</script>
</html>